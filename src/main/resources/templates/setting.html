<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::Layout(~{::section})">

<head>
    <meta charset="ISO-8859-1">
    <title>Insert title here</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <!-- Add your styles or additional scripts here -->
    <style type="text/css">
        /* Your custom styles here */
    </style>
   
</head>

<body>
    <section class="dividerTwoSection row">
		<div>
		    <!-- Display success message -->
		    <div id="successMessage" th:if="${successMessage}" class="success-message">
		        <p th:text="${successMessage}"></p>
		    </div>
		
		    <!-- Display error message -->
		    <div id="errorMessage" th:if="${errorMessage}" class="error-message">
		        <p th:text="${errorMessage}"></p>
		    </div>
		</div>
		<script>
		    // Automatically hide success and error messages after 3 seconds
		    setTimeout(function() {
		        document.getElementById('successMessage').style.display = 'none';
		        document.getElementById('errorMessage').style.display = 'none';
		    }, 3000);
		</script>
		
		
        <!-- Navigation Section --> 
        <div class="optionAll shadow-lg col-1 g-1 my-1 py-4 ms-2" >
			<div  th:if="${userRole != 'security'}">
	            <div class="row">
	                <div class="col-lg-10 btn btn-outline-primary ms-3">
					    <h5 class="font-weight-bold"><a href="setting" class="no-underlined-link" style="text-decoration: none;"><i class="fas fa-user"></i>Profile</a></h5>
					</div>
	
	            </div><br>
	            <div class="row">
	                <div class="col-lg-10 btn btn-outline-primary ms-3">
	                    <h5 class="font-weight-bold"><a href="access" class="no-underlined-link" style="text-decoration: none;"><i class="fas fa-key"></i>Access</a> </h5>
	                </div>
	            </div><br>
	            <div class="row">
	                <div class="col-lg-10 btn btn-outline-primary ms-3">
					   <h5 class="font-weight-bold"><a href="changeReset" class="no-underlined-link" style="text-decoration: none;"><i class="fas fa-sync"></i> Change Reset</a> </h5>
	                </div>
	            </div>
            </div>
        </div>
        <!-- Content Section -->
					<div class="outputScreen col-lg-10 shadow-lg">
					    <!-- Profile Form -->
					    <div class="row access" id="profileForm">
					        <div class="col-lg-12">
					            <div class="row py-2">
					                <div class="col-lg-12">
					                    <h2 class="font-weight-bold text-center"><i class="fas fa-user"></i> Profile</h2>
					                </div>
					            </div>
					            <hr class="my-0">
					            <form class="row ms-3 border shadow-lg justify-content-center" th:action="@{/UpdateProfile}" method="post">
					                <input type="hidden" id="userId" name="userId" th:field="*{userId}" th:value="${user.userId}" />
					
					                <div class="col-lg-4 my-2">
					                    <label for="profileName">Name</label>
					                    <input type="text" class="form-control name" id="profileName" name="userName"
					                           placeholder="Username.." th:value="${user.userName}" required>
					                    <p id="validation_profileUsername" style="color:red"></p>
					                </div>
					                <div class="col-lg-4 my-2">
					                    <label for="currentProfilePassword">Current Password</label>
					                    <input type="password" class="form-control password" id="oldPassword"
					                           name="oldPassword" placeholder="******" autocomplete="current-password" required>
					                    <p id="validation_currentProfilePassword" style="color:red"></p>
					                </div>
					                <div class="col-lg-4 my-2">
					                    <label for="newProfilePassword">New Password</label>
					                    <input type="password" class="form-control password" id="newPassword"
					                           name="newPassword" placeholder="******" autocomplete="new-password">
					                    <p id="validation_newProfilePassword" style="color:red"></p>
					                </div>
					                <div class="col-lg-3 mb-4">
					                    <br>
					                    <button type="submit" id="submit" class="form-control btn btn-primary" formmethod="post">Update</button>
					                </div>
					            </form>
					        </div>
					    </div>
					</div>



            
            <!-- List of Users -->
            <hr class="my-0">
            
        </div>
         
    </section>

    <!-- ... your existing HTML code ... -->

    <!-- Add this script at the end of the body section -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    
    <!-- Add your custom scripts here -->
</body>

</html>
